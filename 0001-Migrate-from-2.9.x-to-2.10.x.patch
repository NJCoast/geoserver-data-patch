From a2077a0bb5ab9da56427bbc38fddc55a54390327 Mon Sep 17 00:00:00 2001
From: James Sweet <james.sweet88@googlemail.com>
Date: Mon, 2 Oct 2017 14:18:59 -0400
Subject: [PATCH] Migrate from 2.9.x to 2.10.x

---
 demo/WFS_getFeature-2.0.url                       |   2 +-
 demo/WFS_getFeatureBetween.url                    |   2 +-
 demo/WFS_getFeatureBetweenCQL.url                 |   2 +-
 demo/WFS_getFeatureFid.url                        |   2 +-
 demo/WFS_getFeatureFidFilter.url                  |   2 +-
 demo/WFS_getFeatureIntersects.url                 |   4 +--
 demo/WFS_getFeatureMultiFilter.url                |   2 +-
 geofence/geofence-server.properties               |   8 ++---
 geofence/geofence_db/geofence.48.log.db           | Bin 1088 -> 0 bytes
 geofence/geofence_db/geofence.data.db             | Bin 131120 -> 131120 bytes
 geofence/geofence_db/geofence.lock.db             |   4 ---
 geofence/geofence_db/geofence.trace.db            |   0
 global.xml                                        |  19 ++++++------
 gwc-gs.xml                                        |   6 +++-
 logging.xml                                       |   4 +--
 security/config.xml                               |   9 ++++++
 security/filter/geonodeAnonymousFilter/config.xml |   5 ----
 security/filter/geonodeCookieFilter/config.xml    |   5 ----
 security/rest.properties                          |  17 ++++++++++-
 security/version.properties                       |   2 +-
 styles/default_generic.sld                        |   2 +-
 styles/default_line.sld                           |   2 +-
 styles/default_point.sld                          |   2 +-
 styles/default_polygon.sld                        |   2 +-
 styles/generic.xml                                |   6 ++--
 styles/raster.sld                                 |   2 +-
 wcs.xml                                           |   9 +++---
 wms.xml                                           |  34 ++++++++++++++++++----
 wps.xml                                           |  16 ++++++----
 30 files changed, 106 insertions(+), 70 deletions(-)
 delete mode 100644 geofence/geofence_db/geofence.48.log.db
 delete mode 100644 geofence/geofence_db/geofence.lock.db
 delete mode 100644 geofence/geofence_db/geofence.trace.db
 delete mode 100644 security/filter/geonodeAnonymousFilter/config.xml
 delete mode 100644 security/filter/geonodeCookieFilter/config.xml

diff --git a/demo/WFS_getFeature-2.0.url b/demo/WFS_getFeature-2.0.url
index 1412b10..e95e64b 100644
--- a/demo/WFS_getFeature-2.0.url
+++ b/demo/WFS_getFeature-2.0.url
@@ -1 +1 @@
-wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=sf:bugsites&filter=%3Cfes:Filter%20xmlns:fes=%22http://www.opengis.net/fes/2.0%22%3E%3Cfes:Filter%3E%3Cfes:ResourceId%20rid=%22bugsites.3%22/%3E%3C/fes:Filter%3E%3C/fes:Filter%3E
+wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=sf:bugsites&filter=%3Cfes:Filter%20xmlns:fes=%22http://www.opengis.net/fes/2.0%22%3E%3Cfes:ResourceId%20rid=%22bugsites.3%22/%3E%3C/fes:Filter%3E
diff --git a/demo/WFS_getFeatureBetween.url b/demo/WFS_getFeatureBetween.url
index 36ca4ac..135cf55 100644
--- a/demo/WFS_getFeatureBetween.url
+++ b/demo/WFS_getFeatureBetween.url
@@ -1 +1 @@
-wfs?request=GetFeature&version=1.1.0&typeName=topp:states&propertyName=STATE_NAME,LAND_KM,the_geom&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CPropertyIsBetween%3E%3CPropertyName%3Etopp:LAND_KM%3C/PropertyName%3E%3CLowerBoundary%3E%3CLiteral%3E100000%3C/Literal%3E%3C/LowerBoundary%3E%3CUpperBoundary%3E%3CLiteral%3E150000%3C/Literal%3E%3C/UpperBoundary%3E%3C/PropertyIsBetween%3E%3C/Filter%3E
+wfs?request=GetFeature&version=1.1.0&typeName=topp:states&propertyName=STATE_NAME,LAND_KM,the_geom&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CPropertyIsBetween%3E%3CPropertyName%3Etopp:LAND_KM%3C/PropertyName%3E%3CLowerBoundary%3E%3CLiteral%3E100000%3C/Literal%3E%3C/LowerBoundary%3E%3CUpperBoundary%3E%3CLiteral%3E150000%3C/Literal%3E%3C/UpperBoundary%3E%3C/PropertyIsBetween%3E%3C/Filter%3E
diff --git a/demo/WFS_getFeatureBetweenCQL.url b/demo/WFS_getFeatureBetweenCQL.url
index 5cb79e4..74bcec3 100644
--- a/demo/WFS_getFeatureBetweenCQL.url
+++ b/demo/WFS_getFeatureBetweenCQL.url
@@ -1 +1 @@
-wfs?request=GetFeature&typeName=topp:states&propertyName=STATE_NAME,LAND_KM,the_geom&CQL_FILTER=LAND_KM%20BETWEEN%20100000%20AND%20150000&version=1.0.0
+wfs?request=GetFeature&typeName=topp:states&propertyName=STATE_NAME,LAND_KM,the_geom&CQL_FILTER=LAND_KM%20BETWEEN%20100000%20AND%20150000&version=1.0.0
diff --git a/demo/WFS_getFeatureFid.url b/demo/WFS_getFeatureFid.url
index c66e93d..26293ea 100644
--- a/demo/WFS_getFeatureFid.url
+++ b/demo/WFS_getFeatureFid.url
@@ -1 +1 @@
-wfs?request=GetFeature&version=1.1.0&typeName=topp:states&outputFormat=GML2&FEATUREID=states.3
+wfs?request=GetFeature&version=1.1.0&typeName=topp:states&outputFormat=GML2&FEATUREID=states.3
diff --git a/demo/WFS_getFeatureFidFilter.url b/demo/WFS_getFeatureFidFilter.url
index 087061f..9b491ba 100644
--- a/demo/WFS_getFeatureFidFilter.url
+++ b/demo/WFS_getFeatureFidFilter.url
@@ -1 +1 @@
-wfs?request=GetFeature&version=1.1.0&typeName=topp:states&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22states.23%22/%3E%3C/Filter%3E
+wfs?request=GetFeature&version=1.1.0&typeName=topp:states&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22states.23%22/%3E%3C/Filter%3E
diff --git a/demo/WFS_getFeatureIntersects.url b/demo/WFS_getFeatureIntersects.url
index 3dbd459..5c9f627 100644
--- a/demo/WFS_getFeatureIntersects.url
+++ b/demo/WFS_getFeatureIntersects.url
@@ -1,2 +1,2 @@
-wfs?request=GetFeature&version=1.0.0&typeName=topp:states&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%20xmlns:gml=%22http://www.opengis.net/gml%22%3E%3CIntersects%3E%3CPropertyName%3Ethe_geom%3C/PropertyName%3E%3Cgml:Point%20srsName=%22EPSG:4326%22%3E%3Cgml:coordinates%3E-74.817265,40.5296504%3C/gml:coordinates%3E%3C/gml:Point%3E%3C/Intersects%3E%3C/Filter%3E
-
+wfs?request=GetFeature&version=1.0.0&typeName=topp:states&outputFormat=GML2&FILTER=%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%20xmlns:gml=%22http://www.opengis.net/gml%22%3E%3CIntersects%3E%3CPropertyName%3Ethe_geom%3C/PropertyName%3E%3Cgml:Point%20srsName=%22EPSG:4326%22%3E%3Cgml:coordinates%3E-74.817265,40.5296504%3C/gml:coordinates%3E%3C/gml:Point%3E%3C/Intersects%3E%3C/Filter%3E
+
diff --git a/demo/WFS_getFeatureMultiFilter.url b/demo/WFS_getFeatureMultiFilter.url
index 9f92eaa..0413779 100644
--- a/demo/WFS_getFeatureMultiFilter.url
+++ b/demo/WFS_getFeatureMultiFilter.url
@@ -1 +1 @@
-wfs?request=GetFeature&version=1.1.0&typeName=topp:states,tiger:tiger_roads&outputFormat=GML2&FILTER=(%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22states.3%22/%3E%3C/Filter%3E)(%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22tiger_roads.3%22/%3E%3C/Filter%3E)
+wfs?request=GetFeature&version=1.1.0&typeName=topp:states,tiger:tiger_roads&outputFormat=GML2&FILTER=(%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22states.3%22/%3E%3C/Filter%3E)(%3CFilter%20xmlns=%22http://www.opengis.net/ogc%22%3E%3CFeatureId%20fid=%22tiger_roads.3%22/%3E%3C/Filter%3E)
diff --git a/geofence/geofence-server.properties b/geofence/geofence-server.properties
index 0c34409..65b3a5b 100644
--- a/geofence/geofence-server.properties
+++ b/geofence/geofence-server.properties
@@ -1,5 +1,5 @@
 ### GeoFence Module configuration file
-###
+###
 ### GeoServer will read this file at boot time.
 ### This file may be automatically regenerated by GeoServer, so any changes beside the property values may be lost.

@@ -16,6 +16,6 @@ acceptedRoles=

 ### Cache configuration

-cacheSize=50000
-cacheRefresh=600000
-cacheExpire=600000
+cacheSize=500000
+cacheRefresh=6000000
+cacheExpire=6000000
diff --git a/geofence/geofence_db/geofence.48.log.db b/geofence/geofence_db/geofence.48.log.db
deleted file mode 100644
index 721b8c5cfb5c1a12bceeafad3730c22643f716af..0000000000000000000000000000000000000000
GIT binary patch
literal 0
HcmV?d00001

literal 1088
zcmd^-ze>YU7)QTa7hS3%4kD647csFE1aY#_LUnNPA0i?hR8&Nyk0%bkiN1jk&>@}^
z;~<uTgOi2x9qvtY`TfF8)1=!<n%VkVo}_6q2_x4L(JZQ8L?^b`7=!UEM#B+~`UB&3
z`=EoS4jJEmJFMP#CyHvj7<lAsdG32L7!*&9@=2|F{)d_#a(256@{3WOag5tg^Hukr
z9odimyL_{kh>0lb{vrOYKiiL-%RHTdS(t|fScD~5fmO($1skvlIe5pqum}5a1SfC`
zXK)S|(1T03h8wtpd+-83LVwsbVBbt$d~<2DY4d3_YIAC{YV&F{YjbO}YxC>8vOQee
tMcYT)N!v@?P1{e~QQK47Rre~}*|oj3-L?I--$45vwBJJa_1FELix01BseS+e

diff --git a/geofence/geofence_db/geofence.data.db b/geofence/geofence_db/geofence.data.db
index d98ff009f8d99a9cc106f0a5ad4cc4461b670ba3..d1cdd5ca8585e5abcadcea824b3f9a5d27f7a3af 100644
GIT binary patch
delta 73
zcmdncz_9^{b}CG^axY<Gn7UbCk&7L|w%xp5ql*K?p1jsfc=G|nN*0L3-_7gIxa219
SR48S9-mD+GT|bnOaWw$R>KZ`+

delta 74
zcmdncz_9^{b}CHX8B)r4YqP#07dx2Qw0XTo7YCTxzInZ27Ym3vd7Yuq<^yIwWhdMF
V%1jRRiDYDH)(_pTAIiwM8UT=A9fSY?

diff --git a/geofence/geofence_db/geofence.lock.db b/geofence/geofence_db/geofence.lock.db
deleted file mode 100644
index 380023d..0000000
--- a/geofence/geofence_db/geofence.lock.db
+++ /dev/null
@@ -1,4 +0,0 @@
-#FileLock
-#Mon Dec 05 13:05:05 CET 2016
-id=158cedf85fe68d3d2b10716e9d1f9a70d7b5ba1e763
-method=file
diff --git a/geofence/geofence_db/geofence.trace.db b/geofence/geofence_db/geofence.trace.db
deleted file mode 100644
index e69de29..0000000
diff --git a/global.xml b/global.xml
index 253886c..7aeef32 100644
--- a/global.xml
+++ b/global.xml
@@ -20,14 +20,14 @@
   </settings>
   <jai>
     <allowInterpolation>false</allowInterpolation>
-    <recycling>false</recycling>
+    <recycling>true</recycling>
     <tilePriority>5</tilePriority>
     <tileThreads>7</tileThreads>
     <memoryCapacity>0.5</memoryCapacity>
     <memoryThreshold>0.75</memoryThreshold>
     <imageIOCache>false</imageIOCache>
-    <pngAcceleration>true</pngAcceleration>
-    <jpegAcceleration>true</jpegAcceleration>
+    <pngAcceleration>false</pngAcceleration>
+    <jpegAcceleration>false</jpegAcceleration>
     <allowNativeMosaic>false</allowNativeMosaic>
     <allowNativeWarp>false</allowNativeWarp>
   </jai>
@@ -38,11 +38,10 @@
     <queueType>UNBOUNDED</queueType>
     <imageIOCacheThreshold>10240</imageIOCacheThreshold>
   </coverageAccess>
-  <updateSequence>147</updateSequence>
-  <featureTypeCacheSize>0</featureTypeCacheSize>
-  <globalServices>true</globalServices>
-  <xmlPostRequestLogBufferSize>1024</xmlPostRequestLogBufferSize>
-  <xmlExternalEntitiesEnabled>false</xmlExternalEntitiesEnabled>
-  <webUIMode>DEFAULT</webUIMode>
-  <resourceErrorHandling>SKIP_MISCONFIGURED_LAYERS</resourceErrorHandling>
+  <charset>UTF-8</charset>
+  <numDecimals>8</numDecimals>
+  <onlineResource>http://geoserver.org</onlineResource>
+  <verbose>false</verbose>
+  <verboseExceptions>false</verboseExceptions>
+  <updateSequence>0</updateSequence>
 </global>
diff --git a/gwc-gs.xml b/gwc-gs.xml
index 96ac235..9b2c63d 100644
--- a/gwc-gs.xml
+++ b/gwc-gs.xml
@@ -5,7 +5,7 @@
   <TMSEnabled>true</TMSEnabled>
   <securityEnabled>false</securityEnabled>
   <innerCachingEnabled>false</innerCachingEnabled>
-  <persistenceEnabled>false</persistenceEnabled>
+  <persistenceEnabled>true</persistenceEnabled>
   <cacheProviderClass>class org.geowebcache.storage.blobstore.memory.guava.GuavaCacheProvider</cacheProviderClass>
   <cacheConfigurations>
     <entry>
@@ -29,18 +29,22 @@
   </defaultCachingGridSetIds>
   <defaultCoverageCacheFormats>
     <string>image/png</string>
+    <string>image/vnd.jpeg-png</string>
     <string>image/jpeg</string>
     <string>image/gif</string>
     <string>image/png8</string>
   </defaultCoverageCacheFormats>
   <defaultVectorCacheFormats>
+    <string>application/json;type=utfgrid</string>
     <string>image/png</string>
+    <string>image/vnd.jpeg-png</string>
     <string>image/jpeg</string>
     <string>image/gif</string>
     <string>image/png8</string>
   </defaultVectorCacheFormats>
   <defaultOtherCacheFormats>
     <string>image/png</string>
+    <string>image/vnd.jpeg-png</string>
     <string>image/jpeg</string>
     <string>image/gif</string>
     <string>image/png8</string>
diff --git a/logging.xml b/logging.xml
index 8f88811..aa7b393 100644
--- a/logging.xml
+++ b/logging.xml
@@ -1,5 +1,5 @@
 <logging>
   <level>PRODUCTION_LOGGING.properties</level>
   <location>logs/geoserver.log</location>
-  <stdOutLogging>true</stdOutLogging>
-</logging>
+  <stdOutLogging>false</stdOutLogging>
+</logging>
\ No newline at end of file
diff --git a/security/config.xml b/security/config.xml
index e8be1a7..2ee52e0 100644
--- a/security/config.xml
+++ b/security/config.xml
@@ -39,4 +39,13 @@
     <className>org.geoserver.security.rememberme.GeoServerTokenBasedRememberMeServices</className>
     <key>geoserver</key>
   </rememberMeService>
+  <bruteForcePrevention>
+    <enabled>true</enabled>
+    <minDelaySeconds>1</minDelaySeconds>
+    <maxDelaySeconds>5</maxDelaySeconds>
+    <maxBlockedThreads>100</maxBlockedThreads>
+    <whitelistedMasks>
+      <string>127.0.0.1</string>
+    </whitelistedMasks>
+  </bruteForcePrevention>
 </security>
diff --git a/security/filter/geonodeAnonymousFilter/config.xml b/security/filter/geonodeAnonymousFilter/config.xml
deleted file mode 100644
index fd54371..0000000
--- a/security/filter/geonodeAnonymousFilter/config.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<org.geonode.security.GeoNodeAnonymousAuthFilterConfig>
-  <id>-54fbcd7b:1402c24f6bc:-7fe7</id>
-  <name>geonodeAnonymousFilter</name>
-  <className>org.geonode.security.GeoNodeAnonymousProcessingFilter</className>
-</org.geonode.security.GeoNodeAnonymousAuthFilterConfig>
\ No newline at end of file
diff --git a/security/filter/geonodeCookieFilter/config.xml b/security/filter/geonodeCookieFilter/config.xml
deleted file mode 100644
index abee982..0000000
--- a/security/filter/geonodeCookieFilter/config.xml
+++ /dev/null
@@ -1,5 +0,0 @@
-<org.geonode.security.GeoNodeAuthFilterConfig>
-  <id>-54fbcd7b:1402c24f6bc:-7fe8</id>
-  <name>geonodeCookieFilter</name>
-  <className>org.geonode.security.GeoNodeCookieProcessingFilter</className>
-</org.geonode.security.GeoNodeAuthFilterConfig>
\ No newline at end of file
diff --git a/security/rest.properties b/security/rest.properties
index 865c9f8..6f5a5ae 100644
--- a/security/rest.properties
+++ b/security/rest.properties
@@ -1,4 +1,19 @@
+# Default REST security configuration.
+#
+# By default this configuration locks down every rest call. The following is an example of a more
+# lax configuration in which read only (GET) access is allowed anonymously:
+#
+#/**;GET=IS_AUTHENTICATED_ANONYMOUSLY
+#/**;POST,DELETE,PUT=ADMIN
+#
+# The following is an example of a configuration that could be used with the restconfig plugin in
+# which only configuration in a specific workspace is restricted:
+#
+#/rest/workspaces/topp*;GET=ADMIN
+#/rest/workspaces/topp/**;GET=ADMIN
+#/**;POST,DELETE,PUT=ADMIN
+#
 /rest/process/batchdownload/download/*;GET=IS_AUTHENTICATED_ANONYMOUSLY
 /rest/printing/*;GET,POST=IS_AUTHENTICATED_ANONYMOUSLY
 /**;GET=IS_AUTHENTICATED_ANONYMOUSLY
-/**;POST,DELETE,PUT=ROLE_ADMINISTRATOR
+/**;POST,DELETE,PUT=ADMIN
diff --git a/security/version.properties b/security/version.properties
index 2c2fc1a..eb43917 100644
--- a/security/version.properties
+++ b/security/version.properties
@@ -1,3 +1,3 @@
 #Current version of the security directory. Do not remove or alter this file
-#Mon Dec 05 12:58:16 CET 2016
+#Thu Sep 14 16:11:49 GMT 2017
 version=2.5
diff --git a/styles/default_generic.sld b/styles/default_generic.sld
index 1107b63..fa0a6b8 100644
--- a/styles/default_generic.sld
+++ b/styles/default_generic.sld
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <StyledLayerDescriptor version="1.0.0"
                        xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
                        xmlns="http://www.opengis.net/sld"
diff --git a/styles/default_line.sld b/styles/default_line.sld
index 14c1b72..35cbb28 100644
--- a/styles/default_line.sld
+++ b/styles/default_line.sld
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
diff --git a/styles/default_point.sld b/styles/default_point.sld
index 38123cc..2c05430 100644
--- a/styles/default_point.sld
+++ b/styles/default_point.sld
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
diff --git a/styles/default_polygon.sld b/styles/default_polygon.sld
index 5be5e7c..531ef9f 100644
--- a/styles/default_polygon.sld
+++ b/styles/default_polygon.sld
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
diff --git a/styles/generic.xml b/styles/generic.xml
index d4f935f..db17b6f 100644
--- a/styles/generic.xml
+++ b/styles/generic.xml
@@ -1,9 +1,9 @@
 <style>
-  <id>StyleInfoImpl-20c45834:155da6ab677:-8000</id>
+  <id>StyleInfoImpl-37b18cc6:14d5d036d48:-8000</id>
   <name>generic</name>
   <format>sld</format>
   <languageVersion>
     <version>1.0.0</version>
   </languageVersion>
-  <filename>default_generic.sld</filename>
-</style>
\ No newline at end of file
+  <filename>generic.sld</filename>
+</style>
diff --git a/styles/raster.sld b/styles/raster.sld
index f25ecb8..dddd736 100644
--- a/styles/raster.sld
+++ b/styles/raster.sld
@@ -1,4 +1,4 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
+<?xml version="1.0" encoding="UTF-8"?>
 <StyledLayerDescriptor version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"
  xmlns="http://www.opengis.net/sld"
diff --git a/wcs.xml b/wcs.xml
index 4ba5a85..89dc9d5 100644
--- a/wcs.xml
+++ b/wcs.xml
@@ -4,9 +4,7 @@
   <name>My GeoServer WCS</name>
   <title>My GeoServer WCS</title>
   <maintainer>http://jira.codehaus.org/secure/BrowseProject.jspa?id=10311</maintainer>
-  <abstrct>
-This is a description of your Web Coverage Server.
-     </abstrct>
+  <abstrct>This is a description of your Web Coverage Server.</abstrct>
   <accessConstraints>NONE</accessConstraints>
   <fees>NONE</fees>
   <versions>
@@ -36,6 +34,7 @@ This is a description of your Web Coverage Server.
   <verbose>false</verbose>
   <gmlPrefixing>false</gmlPrefixing>
   <latLon>false</latLon>
-  <maxInputMemory>0</maxInputMemory>
-  <maxOutputMemory>0</maxOutputMemory>
+  <maxInputMemory>600000</maxInputMemory>
+  <maxOutputMemory>600000</maxOutputMemory>
+  <overviewPolicy>NEAREST</overviewPolicy>
 </wcs>
\ No newline at end of file
diff --git a/wms.xml b/wms.xml
index 1b8547a..66272c7 100644
--- a/wms.xml
+++ b/wms.xml
@@ -2,11 +2,9 @@
   <id>wms</id>
   <enabled>true</enabled>
   <name>My GeoServer WMS</name>
-  <title>My GeoServer WMS</title>
+  <title>GeoNode Local GeoServer</title>
   <maintainer>http://jira.codehaus.org/secure/BrowseProject.jspa?id=10311</maintainer>
-  <abstrct>
-This is a description of your Web Map Server.
-     </abstrct>
+  <abstrct>This is a description of your Web Map Server.</abstrct>
   <accessConstraints>NONE</accessConstraints>
   <fees>NONE</fees>
   <versions>
@@ -28,10 +26,35 @@ This is a description of your Web Map Server.
   <schemaBaseURL>http://schemas.opengis.net</schemaBaseURL>
   <verbose>false</verbose>
   <metadata>
+    <entry key="kmlSuperoverlayMode">auto</entry>
+    <entry key="kmlReflectorMode">refresh</entry>
+    <entry key="loopContinuously">false</entry>
     <entry key="svgAntiAlias">true</entry>
+    <entry key="kmlPlacemark">false</entry>
+    <entry key="kmlKmscore">40</entry>
+    <entry key="mapWrapping">true</entry>
+    <entry key="maxAnimatorRenderingTime">300</entry>
+    <entry key="pngCompression">25</entry>
+    <entry key="jpegCompression">25</entry>
+    <entry key="advancedProjectionHandling">true</entry>
+    <entry key="maxAllowedFrames">600000</entry>
+    <entry key="kmlAttr">true</entry>
     <entry key="svgRenderer">Batik</entry>
+    <entry key="disposalMethod">none</entry>
+    <entry key="maxRenderingSize">600000</entry>
+    <entry key="scalehintMapunitsPixel">false</entry>
+    <entry key="framesDelay">1000</entry>
   </metadata>
-  <watermark class="org.geoserver.wms.WatermarkInfoImpl">
+  <srs>
+    <string>4326</string>
+    <string>3785</string>
+    <string>3857</string>
+    <string>900913</string>
+    <string>32647</string>
+    <string>32736</string>
+  </srs>
+  <bboxForEachCRS>true</bboxForEachCRS>
+  <watermark>
     <enabled>false</enabled>
     <position>BOT_RIGHT</position>
     <transparency>0</transparency>
@@ -39,6 +62,7 @@ This is a description of your Web Map Server.
   <interpolation>Nearest</interpolation>
   <getFeatureInfoMimeTypeCheckingEnabled>false</getFeatureInfoMimeTypeCheckingEnabled>
   <getMapMimeTypeCheckingEnabled>false</getMapMimeTypeCheckingEnabled>
+  <dynamicStylingDisabled>false</dynamicStylingDisabled>
   <maxBuffer>25</maxBuffer>
   <maxRequestMemory>65536</maxRequestMemory>
   <maxRenderingTime>60</maxRenderingTime>
diff --git a/wps.xml b/wps.xml
index a6df947..5c03d50 100644
--- a/wps.xml
+++ b/wps.xml
@@ -12,9 +12,9 @@
   <schemaBaseURL>http://schemas.opengis.net</schemaBaseURL>
   <verbose>false</verbose>
   <connectionTimeout>30.0</connectionTimeout>
-  <resourceExpirationTimeout>300</resourceExpirationTimeout>
-  <maxSynchronousProcesses>8</maxSynchronousProcesses>
-  <maxAsynchronousProcesses>8</maxAsynchronousProcesses>
+  <resourceExpirationTimeout>1200</resourceExpirationTimeout>
+  <maxSynchronousProcesses>10</maxSynchronousProcesses>
+  <maxAsynchronousProcesses>10</maxAsynchronousProcesses>
   <processGroups>
     <processGroup>
       <factoryClass>org.geonode.process.batchdownload.BatchDownloadFactory</factoryClass>
@@ -40,8 +40,14 @@
       <factoryClass>org.geotools.process.vector.VectorProcessFactory</factoryClass>
       <enabled>true</enabled>
     </processGroup>
+    <processGroup>
+      <factoryClass>org.geotools.process.geometry.PolygonLabelProcess</factoryClass>
+      <enabled>true</enabled>
+    </processGroup>
   </processGroups>
   <maxComplexInputSize>0</maxComplexInputSize>
-  <maxSynchronousExecutionTime>0</maxSynchronousExecutionTime>
-  <maxAsynchronousExecutionTime>0</maxAsynchronousExecutionTime>
+  <maxSynchronousExecutionTime>1200</maxSynchronousExecutionTime>
+  <maxSynchronousTotalTime>1200</maxSynchronousTotalTime>
+  <maxAsynchronousExecutionTime>1200</maxAsynchronousExecutionTime>
+  <maxAsynchronousTotalTime>1200</maxAsynchronousTotalTime>
 </wps>
\ No newline at end of file
--
2.14.2

